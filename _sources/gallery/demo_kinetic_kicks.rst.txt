
.. DO NOT EDIT.
.. THIS FILE WAS AUTOMATICALLY GENERATED BY SPHINX-GALLERY.
.. TO MAKE CHANGES, EDIT THE SOURCE PYTHON FILE:
.. "gallery/demo_kinetic_kicks.py"
.. LINE NUMBERS ARE GIVEN BELOW.

.. only:: html

    .. note::
        :class: sphx-glr-download-link-note

        :ref:`Go to the end <sphx_glr_download_gallery_demo_kinetic_kicks.py>`
        to download the full example code

.. rst-class:: sphx-glr-example-title

.. _sphx_glr_gallery_demo_kinetic_kicks.py:


.. _demo-kinetic:

==========================
Kinetic IBS Kicks Tracking
==========================

This example shows how to use the `~.xibs.kicks.kinetic.KineticKickIBS` class
to calculate IBS kicks to apply to an `xpart.Particles` object during tracking.

We will demonstrate using an `xtrack.Line` of the ``MACHINE``,
for a PARTICLE beam.

.. important::
    As `xibs` is still a prototype implementation, the integration of IBS effects
    into `xsuite` tracking simulations is not seamless, as we will see.

.. GENERATED FROM PYTHON SOURCE LINES 19-32

.. code-block:: default

    import json
    import warnings

    from dataclasses import dataclass

    import matplotlib.pyplot as plt
    import numpy as np
    import xpart as xp
    import xtrack as xt

    from xibs.inputs import BeamParameters, OpticsParameters
    from xibs.kicks.kinetic import KineticKickIBS








.. GENERATED FROM PYTHON SOURCE LINES 34-36

Let's start by defining the line and particle information, as well as some
parameters for later use:

.. GENERATED FROM PYTHON SOURCE LINES 36-48

.. code-block:: default


    line_file = "lines/machine_file.json"
    harmonic_number = 2852
    rf_voltage = 4.5  # in MV
    energy_loss = 0  # let's pretend
    bunch_intensity = 4.4e9
    sigma_z = 1.58e-3
    nemitt_x = 5.6644e-07
    nemitt_y = 3.7033e-09
    n_part = int(5e3)









.. GENERATED FROM PYTHON SOURCE LINES 49-54

.. admonition:: References

   The use of the following functions, methods, classes and modules is shown
   in this example:



.. _sphx_glr_download_gallery_demo_kinetic_kicks.py:

.. only:: html

  .. container:: sphx-glr-footer sphx-glr-footer-example




    .. container:: sphx-glr-download sphx-glr-download-python

      :download:`Download Python source code: demo_kinetic_kicks.py <demo_kinetic_kicks.py>`

    .. container:: sphx-glr-download sphx-glr-download-jupyter

      :download:`Download Jupyter notebook: demo_kinetic_kicks.ipynb <demo_kinetic_kicks.ipynb>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.github.io>`_
